# ADR: Выбрать UI фреймворк и используемый стек технологий

Статус: **Принято**

## Контекст

Нужно быстро (в течение 2 недель) реализовать BDUI-движок, способный динамически отрисовывать экраны, описанные на бэкенде, и поддерживать обновление данных на экране. У разработчика больше экспертизы в Jetpack Compose.

## Решение

- UI-слой на Jetpack Compose
- Навигация -- Jetpack Compose Navigation
- DI -- Dagger/Hilt
- Сетевой слой -- Retrofit/OkHttp/Kotlinx-Serialization

## Последствия

Преимущества:

- Быстрая разработка
- Декларативность, которая хорошо ложится на дерево компонентов BDUI
- DI с кодогенерацией, предотвращающий ошибки на этапе компиляции

Недостатки:

- Зависимость от JVM-библиотек (Hilt, Retrofit, OkHttp)
- Проблемная навигация в Compose Navigation, необходимость писать свои решения поверх готовых

## Альтернативы

- XML (нужно писать больше кода + императивный подход хуже ложится на BDUI с обновлениями)
- KMP (менее стабильные готовые решения + основную сложность в виде рендеринга все равно нужно реализовывать отдельно под каждую платформу + мало экспертизы в необходимых технологиях)
- Koin для DI (ошибки в рантайме)
- Dagger 2 для DI (нужно писать больше кода, ненужная сложность и общий оверхед)
